{"ast":null,"code":"import { useLayoutEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport IconButton from \"../components/IconButton\";\nimport List from \"../components/MealDetail/List\";\nimport Subtitle from \"../components/MealDetail/Subtitle\";\nimport MealDetails from \"../components/MealDetails\";\nimport { MEALS } from \"../data/dummy-data\";\nimport { addFavorite, removeFavorite } from \"../store/redux/favorites\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction MealDetailScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var favoriteMealIds = useSelector(function (state) {\n    return state.favoriteMeals.ids;\n  });\n  var dispatch = useDispatch();\n  var mealId = route.params.mealId;\n  var selectedMeal = MEALS.find(function (meal) {\n    return meal.id === mealId;\n  });\n  var mealIsFavorite = favoriteMealIds.includes(mealId);\n  function changeFavoriteStatusHandler() {\n    if (mealIsFavorite) {\n      dispatch(removeFavorite({\n        id: mealId\n      }));\n    } else {\n      dispatch(addFavorite({\n        id: mealId\n      }));\n    }\n  }\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(IconButton, {\n          icon: mealIsFavorite ? 'star' : 'star-outline',\n          color: \"white\",\n          onPress: changeFavoriteStatusHandler\n        });\n      }\n    });\n  }, [navigation, changeFavoriteStatusHandler]);\n  return _jsxs(ScrollView, {\n    style: styles.rootContainer,\n    children: [_jsx(Image, {\n      style: styles.image,\n      source: {\n        uri: selectedMeal.imageUrl\n      }\n    }), _jsx(Text, {\n      style: styles.title,\n      children: selectedMeal.title\n    }), _jsx(MealDetails, {\n      duration: selectedMeal.duration,\n      complexity: selectedMeal.complexity,\n      affordability: selectedMeal.affordability,\n      textStyle: styles.detailText\n    }), _jsx(View, {\n      style: styles.listOuterContainer,\n      children: _jsxs(View, {\n        style: styles.listContainer,\n        children: [_jsx(Subtitle, {\n          children: \"Ingredients\"\n        }), _jsx(List, {\n          data: selectedMeal.ingredients\n        }), _jsx(Subtitle, {\n          children: \"Steps\"\n        }), _jsx(List, {\n          data: selectedMeal.steps\n        })]\n      })\n    })]\n  });\n}\nexport default MealDetailScreen;\nvar styles = StyleSheet.create({\n  rootContainer: {\n    marginBottom: 32\n  },\n  image: {\n    width: '100%',\n    height: 350\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 24,\n    margin: 8,\n    textAlign: 'center',\n    color: 'white'\n  },\n  detailText: {\n    color: 'white'\n  },\n  listOuterContainer: {\n    alignItems: 'center'\n  },\n  listContainer: {\n    width: '80%'\n  }\n});","map":{"version":3,"names":["useLayoutEffect","View","Text","Image","StyleSheet","ScrollView","useDispatch","useSelector","IconButton","List","Subtitle","MealDetails","MEALS","addFavorite","removeFavorite","jsx","_jsx","jsxs","_jsxs","MealDetailScreen","_ref","route","navigation","favoriteMealIds","state","favoriteMeals","ids","dispatch","mealId","params","selectedMeal","find","meal","id","mealIsFavorite","includes","changeFavoriteStatusHandler","setOptions","headerRight","icon","color","onPress","style","styles","rootContainer","children","image","source","uri","imageUrl","title","duration","complexity","affordability","textStyle","detailText","listOuterContainer","listContainer","data","ingredients","steps","create","marginBottom","width","height","fontWeight","fontSize","margin","textAlign","alignItems"],"sources":["G:/DOWNLOADS/meal-app-main/screens/MealDetailScreen.js"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport { View, Text, Image, StyleSheet, ScrollView } from 'react-native';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport IconButton from '../components/IconButton';\nimport List from '../components/MealDetail/List';\nimport Subtitle from '../components/MealDetail/Subtitle';\nimport MealDetails from '../components/MealDetails';\nimport { MEALS } from '../data/dummy-data';\nimport { addFavorite, removeFavorite } from '../store/redux/favorites';\n// import { FavoritesContext } from '../store/context/favorites-context';\n\nfunction MealDetailScreen({ route, navigation }) {\n  // const favoriteMealsCtx = useContext(FavoritesContext);\n  const favoriteMealIds = useSelector((state) => state.favoriteMeals.ids);\n  const dispatch = useDispatch();\n\n  const mealId = route.params.mealId;\n  const selectedMeal = MEALS.find((meal) => meal.id === mealId);\n\n  const mealIsFavorite = favoriteMealIds.includes(mealId);\n\n  function changeFavoriteStatusHandler() {\n    if (mealIsFavorite) {\n      // favoriteMealsCtx.removeFavorite(mealId);\n      dispatch(removeFavorite({ id: mealId }));\n    } else {\n      // favoriteMealsCtx.addFavorite(mealId);\n      dispatch(addFavorite({ id: mealId }));\n    }\n  }\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => {\n        return (\n          <IconButton\n            icon={mealIsFavorite ? 'star' : 'star-outline'}\n            color=\"white\"\n            onPress={changeFavoriteStatusHandler}\n          />\n        );\n      },\n    });\n  }, [navigation, changeFavoriteStatusHandler]);\n\n  return (\n    <ScrollView style={styles.rootContainer}>\n      <Image style={styles.image} source={{ uri: selectedMeal.imageUrl }} />\n      <Text style={styles.title}>{selectedMeal.title}</Text>\n      <MealDetails\n        duration={selectedMeal.duration}\n        complexity={selectedMeal.complexity}\n        affordability={selectedMeal.affordability}\n        textStyle={styles.detailText}\n      />\n      <View style={styles.listOuterContainer}>\n        <View style={styles.listContainer}>\n          <Subtitle>Ingredients</Subtitle>\n          <List data={selectedMeal.ingredients} />\n          <Subtitle>Steps</Subtitle>\n          <List data={selectedMeal.steps} />\n        </View>\n      </View>\n    </ScrollView>\n  );\n}\n\nexport default MealDetailScreen;\n\nconst styles = StyleSheet.create({\n  rootContainer: {\n    marginBottom: 32,\n  },\n  image: {\n    width: '100%',\n    height: 350,\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 24,\n    margin: 8,\n    textAlign: 'center',\n    color: 'white',\n  },\n  detailText: {\n    color: 'white',\n  },\n  listOuterContainer: {\n    alignItems: 'center',\n  },\n  listContainer: {\n    width: '80%',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}